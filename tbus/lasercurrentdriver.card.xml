<?xml version="1.0" encoding="utf-8"?>
<Card name="Laser Current Driver 1.0">
  <!--name should match filename, in case of conflict follow filename-->

  <!-- The current is set as a normalized value between 0 and 1.0, with 1.0 being maximum current -->
  <!-- 0.999985 is in binary a zero with 16 ones behind the comma, 1.0 has only zeros behind the comma -->
  <FloatParameter name="Current A" defaultvalue="0.0" min="0" max="0.999984741" OnUnderflow="clip" OnOverflow="clip" abs="on" />
  <FloatParameter name="Current B" defaultvalue="0.0" min="0" max="0.999984741" OnUnderflow="clip" OnOverflow="clip" abs="on" />
  <!-- Default is laser off -->
  <BooleanParameter name="Global Laser Enable" defaultvalue="false" />
  <BooleanParameter name="Laser A Disable" defaultvalue="true" />
  <BooleanParameter name="Laser B Disable" defaultvalue="true" />
  <!-- Default power down mode of the DAC is "normal operation" -->
  <IntegerParameter name="Power down mode A" defaultvalue="0" min="0" max="3"  OnUnderflow="clip" OnOverflow="clip" abs="on" />
  <IntegerParameter name="Power down mode B" defaultvalue="0" min="0" max="3"  OnUnderflow="clip" OnOverflow="clip" abs="on" />

  <Register name="Set Laser Status" PreferedMethod="Default" DefaultDuration="25ns">
      <BusPattern direction="w" pattern="1,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" duration="25ns" />
  </Register>
  <Register name="Set Current A" PreferedMethod="Default" DefaultDuration="25ns">
      <!-- pattern=" !Select A, Serial Clock, Data A, !Select B, Data B, Laser A Disable, Laser B Disable, Global Laser Enable" -->
      <BusPattern direction="w" pattern="1,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Power down mode A[1],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Power down mode A[1],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Power down mode A[0],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Power down mode A[0],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-1],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-1],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-2],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-2],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-3],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-3],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-4],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-4],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-5],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-5],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-6],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-6],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-7],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-7],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-8],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-8],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-9],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-9],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-10],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-10],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-11],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-11],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-12],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-12],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-13],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-13],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-14],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-14],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-15],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-15],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-16],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-16],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,Current A[-16],1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
  </Register>
  <Register name="Set Current B" PreferedMethod="Default" DefaultDuration="25ns">
     <!-- pattern=" !Select A, Serial Clock, Data A, !Select B, Data B, Laser A Disable, Laser B Disable, Global Laser Enable" -->
      <BusPattern direction="w" pattern="1,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Power down mode B[1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Power down mode B[1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Power down mode B[0],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Power down mode B[0],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-2],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-2],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-3],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-3],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-4],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-4],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-5],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-5],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-6],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-6],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-7],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-7],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-8],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-8],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-9],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-9],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-10],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-10],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-11],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-11],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-12],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-12],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-13],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-13],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-14],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-14],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-15],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-15],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,0,Current B[-16],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,0,0,0,Current B[-16],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,0,1,Current B[-16],Laser A Disable,Laser B Disable,Global Laser Enable" />
  </Register>
  <Register name="Set Current Both" PreferedMethod="Default" DefaultDuration="25ns">
      <!-- pattern=" !Select A, Serial Clock, Data A, !Select B, Data B, Laser A Disable, Laser B Disable, Global Laser Enable" -->
      <BusPattern direction="w" pattern="1,1,0,1,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,0,0,0,Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Power down mode A[1],0,Power down mode B[1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Power down mode A[1],0,Power down mode B[1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Power down mode A[2],0,Power down mode B[2],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Power down mode A[2],0,Power down mode B[2],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-1],0,Current B[-1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-1],0,Current B[-1],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-2],0,Current B[-2],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-2],0,Current B[-2],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-3],0,Current B[-3],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-3],0,Current B[-3],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-4],0,Current B[-4],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-4],0,Current B[-4],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-5],0,Current B[-5],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-5],0,Current B[-5],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-6],0,Current B[-6],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-6],0,Current B[-6],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-7],0,Current B[-7],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-7],0,Current B[-7],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-8],0,Current B[-8],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-8],0,Current B[-8],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-9],0,Current B[-9],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-9],0,Current B[-9],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-10],0,Current B[-10],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-10],0,Current B[-10],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-11],0,Current B[-11],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-11],0,Current B[-11],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-12],0,Current B[-12],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-12],0,Current B[-12],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-13],0,Current B[-13],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-13],0,Current B[-13],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-14],0,Current B[-14],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-14],0,Current B[-14],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-15],0,Current B[-15],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-15],0,Current B[-15],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,1,Current A[-16],0,Current B[-16],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="0,0,Current A[-16],0,Current B[-16],Laser A Disable,Laser B Disable,Global Laser Enable" />
      <BusPattern direction="w" pattern="1,1,Current A[-16],1,Current B[-16],Laser A Disable,Laser B Disable,Global Laser Enable" />
  </Register>

</Card>